pipeline{
    agent{
         docker {image 'shinn5112/documentation:1.1'}
    }
    stages{
        stage('Deploy to Github Pages'){
            steps{
                withCredentials([usernamePassword(credentialsId: 'github_https', passwordVariable: 'https_password', usernameVariable: 'https_user')]) {
                script { // this allows me to use a try catch block, try catch must be in script tags.
                    try {
                        sh 'rm -r *'
                    } catch (Exception e) {
                        sh 'echo "Empty directory"'
                    }
                }
                script { // this allows me to use a try catch block, try catch must be in script tags.
                    try {
                        sh 'rm -r .*'
                    } catch (Exception e) {
                        sh 'echo "Even the hidden files are gone."'
                    }
                }
                sh '''
                    git clone https://github.com/Firmware-Forge/ESP8266-Updater.git
                    ls
                '''
                }
            }
        }
        
    }
}